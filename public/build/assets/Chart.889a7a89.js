import{_ as T,d as m,j as S,u as B,k as r,p as Y,c as F,w as P,o as a,a as e,n as y,e as l,f as c,F as w,i as k,t as d,b as C,h as n,v as V,J as z,g as v,P as $,M as A,O}from"./app.3fc7250d.js";import{_ as R}from"./AppLayout.6ac057e3.js";import{h as G}from"./moment.9709ab41.js";const u=x=>(A("data-v-cb40b817"),x=x(),O(),x),J={class:"min-h-screen"},Z={class:"container px-6 py-12 mx-auto"},q=u(()=>e("h1",{class:"text-2xl font-semibold lg:text-4xl text-black"}," Charts and Reports ",-1)),K={class:"mt-8 xl:mt-16 lg:flex lg:-mx-12"},Q={class:"lg:mx-12"},W=u(()=>e("h1",{class:"text-xl font-semibold text-black"}," Available Charts ",-1)),X={class:"mt-4 space-y-4 lg:mt-8"},ee={class:"flex-1 mt-8 lg:mt-0"},te={key:0},se=u(()=>e("div",{class:"flex w-full flex-col justify-center items-center bg-white rounded-lg min-h-[30vmin]"},[e("h1",{class:"text-6xl text-gray-700 text-center"}," Charts and Reports "),e("h1",{class:"text-sml shake-horizontal flex mt-6 text-black-800 text-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"block sm:hidden w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 19.5v-15m0 0l-6.75 6.75M12 4.5l6.75 6.75"})]),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"hidden lg:block w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})]),v(" Select to show reports ")])],-1)),oe=[se],re={key:1,class:"grid grid-cols-1 gap-8 md:grid-cols-2 xl:grid-cols-3"},ae={class:"h-full py-8 px-6 space-y-6 rounded-xl border border-gray-200 bg-white"},le={class:"text-xl text-gray-600 text-center"},ne={class:"mt-2 flex justify-center gap-4"},de={class:"flex items-end gap-1 text-green-500"},ie=u(()=>e("svg",{class:"w-3",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6.00001 0L12 8H-3.05176e-05L6.00001 0Z",fill:"currentColor"})],-1)),ce={class:"block text-center text-gray-500"},ue={key:2},pe=u(()=>e("option",{value:"0",disabled:""}," Select Charts ",-1)),_e=u(()=>e("option",{value:"1"},"Pie Chart",-1)),ge=u(()=>e("option",{value:"2"},"Line Chart",-1)),he=[pe,_e,ge],me={key:3,class:"grid grid-cols-1 gap-8 md:grid-cols-2 xl:grid-cols-1"},ve={key:0,class:"mb-5 p-5"},xe={class:"relative flex flex-col min-w-0 break-words bg-white shadow-xl rounded-2xl bg-clip-border"},be={class:"flex-auto p-4"},fe={class:"flex flex-row -mx-3"},ye={class:"flex-none w-2/3 max-w-full px-3"},we={class:"mb-0 font-sans font-semibold leading-normal uppercase text-lg"},ke={class:"mb-2 font-bold text-md"},Ce=u(()=>e("div",{class:"px-3 text-right basis-1/3"},[e("div",{class:"inline-block w-12 h-12 rounded-circle bg-gradient-to-tl from-green-500 to-green-500"},[e("svg",{class:"w-6 h-6 m-auto my-2 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),Me={class:"flex justify-left w-auto bg-gray-50"},je={key:1,class:"mb-5 p-5"},Se={class:"relative flex flex-col min-w-0 break-words bg-white shadow-xl rounded-2xl bg-clip-border"},Be={class:"flex-auto p-4"},Ve={class:"flex flex-row -mx-3"},ze={class:"flex-none w-2/3 max-w-full px-3"},$e={class:"mb-0 font-sans font-semibold leading-normal uppercase text-lg"},Ue={class:"mb-2 font-bold text-md"},Le=u(()=>e("div",{class:"px-3 text-right basis-1/3"},[e("div",{class:"inline-block w-12 h-12 rounded-circle bg-gradient-to-tl from-green-500 to-green-500"},[e("svg",{class:"w-6 h-6 m-auto my-2 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),He={class:"flex justify-left w-auto bg-gray-50"},De={key:4,class:"flex mb-5"},Ee=["value"],Ie=["value"],Ne={key:5,class:"flex justify-left w-auto bg-gray-50"},Te={key:6,class:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-3"},Ye=u(()=>e("div",{class:"w-1/3 bg-cover",style:{"background-image":"url('/img/logo.jpg')"}},null,-1)),Fe={class:"w-2/3 p-4 md:p-4"},Pe={class:"text-2xl font-bold text-gray-800"},Ae={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Oe={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Re={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Ge={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Je={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Ze={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},qe={class:"flex justify-between mt-3 item-center"},Ke=["href"],Qe={key:0,class:"flex justify-between mt-3 item-center"},We=["href"],Xe={__name:"Chart",setup(x){const U=o=>{if(o)return G(o).format("MMMM Do YYYY, h:mm:ss a")};m(!0),m(2);const L=S(()=>{let o=[],s=0;for(let i=0;i<r().props.value.colleges.length;i++)r().props.value.colleges[i].users.forEach(h=>{h.status=="approved"&&(s+=1)}),o.push([r().props.value.colleges[i].name,s]),s=0;return o}),E=S(()=>{let o={};for(let s=0;s<r().props.value.colleges.length;s++){let i=[];r().props.value.colleges[s].courses.forEach(f=>{let t=0;f.users.forEach(p=>{p.status=="approved"&&(t+=1)}),i.push([f.abbreviation,t]),t=0});let h=r().props.value.colleges[s].abbreviation;o[h]=i}return o}),_=B({from:r().props.value.from?r().props.value.from:"",to:r().props.value.to?r().props.value.to:"",tab:r().props.value.tab}),H=B({tab:r().props.value.tab}),I=S(()=>{let o=[];for(let s=0;s<r().props.value.yearbook.length;s++)o.push([r().props.value.yearbook[s].schoolyear_from+" - "+r().props.value.yearbook[s].schoolyear_to,r().props.value.yearbook[s].graduates_count]);return o}),D=()=>{_.get(route("charts"),{preserveScroll:!0})};Y(()=>{}),B({search_text:r().props.value.search_text!=null?r().props.value.search_text:null});const g=m("0"),M=m(!1),j=m(!0),N=()=>{g.value==1?(j.value=!0,M.value=!1):g.value==2&&(j.value=!1,M.value=!0)},b=o=>{H.tab=o,H.get(route("charts"),{preserveScroll:!0})};return(o,s)=>{const i=$("pie-chart"),h=$("line-chart"),f=$("column-chart");return a(),F(R,{title:"Chart"},{default:P(()=>[e("section",J,[e("div",Z,[q,e("div",K,[e("div",Q,[W,e("div",X,[e("a",{onClick:s[0]||(s[0]=t=>b(1)),class:y([o.route().params.tab==1?"text-blue-500 block cursor-pointer":"text-black block cursor-pointer"])},"Colleges",2),e("a",{onClick:s[1]||(s[1]=t=>b(2)),class:y([o.route().params.tab==2?"text-blue-500 block cursor-pointer":"text-black block cursor-pointer"])},"Users",2),e("a",{onClick:s[2]||(s[2]=t=>b(3)),class:y([o.route().params.tab==3?"text-blue-500 block cursor-pointer":"text-black block cursor-pointer"])},"Graduates",2),e("a",{onClick:s[3]||(s[3]=t=>b(4)),class:y([o.route().params.tab==4?"text-blue-500 block cursor-pointer":"text-black block cursor-pointer"])},"Surveys",2)])]),e("div",ee,[o.route().params.tab?c("",!0):(a(),l("div",te,oe)),o.route().params.tab==1?(a(),l("div",re,[(a(!0),l(w,null,k(n(r)().props.value.colleges,(t,p)=>(a(),l("div",{class:"md:col-span-2 lg:col-span-1",key:p},[e("div",ae,[e("div",null,[e("h5",le,d(t.abbreviation),1),e("div",ne,[e("div",de,[ie,e("span",null,d(t.courses.length),1)])]),e("span",ce," College of "+d(t.name),1)]),C(i,{class:"w-[20vmin]",data:n(E)[t.abbreviation],legend:"left",donut:!0},null,8,["data"])])]))),128))])):c("",!0),o.route().params.tab==2?(a(),l("div",ue,[V(e("select",{class:"mb-2 ml-5 block p-2 px-[4vmin] text-gray-900 bg-gray-50 rounded-lg border border-gray-300 sm:text-lg focus:ring-green-500 focus:border-green-500","onUpdate:modelValue":s[4]||(s[4]=t=>g.value=t),onChange:s[5]||(s[5]=t=>N(g.value))},he,544),[[z,g.value]])])):c("",!0),o.route().params.tab==2?(a(),l("div",me,[j.value?(a(),l("div",ve,[e("div",xe,[e("div",be,[e("div",fe,[e("div",ye,[e("div",null,[e("p",we,[v(" TOTAL Users by colleges: "),e("span",ke,d(n(r)().props.value.users.length),1),v(" user/users ")])])]),Ce]),e("div",Me,[C(i,{data:n(L),legend:"bottom",donut:!1},null,8,["data"])])])])])):c("",!0),M.value?(a(),l("div",je,[e("div",Se,[e("div",Be,[e("div",Ve,[e("div",ze,[e("div",null,[e("p",$e,[v(" Users in line graph: "),e("span",Ue,d(n(r)().props.value.users.length),1),v(" user/users ")])])]),Le]),e("div",He,[C(h,{data:n(L),legend:"bottom",donut:!1},null,8,["data"])])])])])):c("",!0)])):c("",!0),o.route().params.tab==3?(a(),l("div",De,[V(e("select",{onChange:s[6]||(s[6]=t=>D()),"onUpdate:modelValue":s[7]||(s[7]=t=>n(_).from=t),name:"",id:"",class:"bg-gray-50 mr-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block pl-10 pr-10 p-2.5"},[(a(!0),l(w,null,k(n(r)().props.value.yearbooks,(t,p)=>(a(),l("option",{key:p,value:t.id},d(t.schoolyear_from+" - "+t.schoolyear_to),9,Ee))),128))],544),[[z,n(_).from]]),V(e("select",{onChange:s[8]||(s[8]=t=>D()),"onUpdate:modelValue":s[9]||(s[9]=t=>n(_).to=t),name:"",id:"",class:"bg-gray-50 mr-2 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block pl-2 pr-10 p-2.5"},[(a(!0),l(w,null,k(n(r)().props.value.yearbooks,(t,p)=>(a(),l("option",{key:p,value:t.id},d(t.schoolyear_from+" - "+t.schoolyear_to),9,Ie))),128))],544),[[z,n(_).to]])])):c("",!0),o.route().params.tab==3?(a(),l("div",Ne,[C(f,{data:n(I)},null,8,["data"])])):c("",!0),o.route().params.tab==4?(a(),l("div",Te,[(a(!0),l(w,null,k(n(r)().props.value.surveys,(t,p)=>(a(),l("div",{key:p,class:"flex max-w-md overflow-hidden bg-white rounded-lg shadow-lg"},[Ye,e("div",Fe,[e("h1",Pe,d(t.name),1),e("p",Ae," Status: "+d(t.status),1),e("p",Oe," Survey to: "+d(t.setup.shown_only),1),e("p",Re," Completes: "+d(t.survey_records==null?0:t.survey_records.length),1),e("p",Ge," Created by: "+d(t.user.name),1),e("p",Je," Created Created at: "+d(U(t.created_at)),1),e("p",Ze," Created Updated at: "+d(U(t.updated_at)),1),e("div",qe,[e("a",{href:o.route("survey_charts",{survey_id:t.id}),class:"px-2 py-1 text-xs font-bold text-white uppercase transition-colors duration-300 transform bg-green-800 rounded dhover:bg-gray-700 focus:outline-none focus:bg-gray-700"}," View Charts ",8,Ke)]),n(r)().props.value.user.user_type=="admin"||n(r)().props.value.user.user_type=="staff_admin"?(a(),l("div",Qe,[e("a",{href:o.route("downloadChart",{survey_id:t.id,survey_name:t.name}),class:"px-2 py-1 text-xs font-bold text-white uppercase transition-colors duration-300 transform bg-green-800 rounded dhover:bg-gray-700 focus:outline-none focus:bg-gray-700"}," Download CSV ",8,We)])):c("",!0)])]))),128))])):c("",!0)])])])])]),_:1})}}},ot=T(Xe,[["__scopeId","data-v-cb40b817"]]);export{ot as default};
