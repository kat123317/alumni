import{d as i,u as y,k as M,c as V,w as F,o as r,a as e,e as d,f as c,v as g,K as f,h as n,i as N,t as m,F as E,b as O}from"./app.3fc7250d.js";import{A as T}from"./AdminLayout.a90147e8.js";import{h as B}from"./moment.9709ab41.js";import I from"./Pagination.f354069e.js";const P={class:"text-gray-600 body-font relative"},q={key:0,class:"bg-green-100 alertanim text-center py-4 lg:px-4"},K=e("div",{class:"p-2 bg-green-800 items-center text-green-100 leading-none lg:rounded-full flex lg:inline-flex",role:"alert"},[e("span",{class:"flex rounded-full bg-green-500 uppercase px-2 py-1 text-xs font-bold mr-3"},"Success"),e("span",{class:"font-semibold mr-2 text-left flex-auto"},"School year Successfully added"),e("svg",{class:"fill-current opacity-75 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"})])],-1),G=[K],H={key:1,class:"bg-blue-100 alertanim text-center py-4 lg:px-4"},J=e("div",{class:"p-2 bg-blue-800 items-center text-blue-100 leading-none lg:rounded-full flex lg:inline-flex",role:"alert"},[e("span",{class:"flex rounded-full bg-blue-500 uppercase px-2 py-1 text-xs font-bold mr-3"},"Success"),e("span",{class:"font-semibold mr-2 text-left flex-auto"},"School year Successfully updated"),e("svg",{class:"fill-current opacity-75 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"})])],-1),Q=[J],R={key:2,class:"bg-red-100 alertanim text-center py-4 lg:px-4"},W=e("div",{class:"p-2 bg-red-800 items-center text-red-100 leading-none lg:rounded-full flex lg:inline-flex",role:"alert"},[e("span",{class:"flex rounded-full bg-red-500 uppercase px-2 py-1 text-xs font-bold mr-3"},"Success"),e("span",{class:"font-semibold mr-2 text-left flex-auto"},"School year Successfully deleted"),e("svg",{class:"fill-current opacity-75 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"})])],-1),X=[W],Z={key:3,class:"bg-gray-100 text-center py-4 lg:px-4"},ee=e("div",{class:"p-2 bg-gray-800 items-center text-gray-100 alertanim leading-none lg:rounded-full flex lg:inline-flex",role:"alert"},[e("span",{class:"flex rounded-full bg-gray-500 uppercase px-2 py-1 text-xs font-bold mr-3"},"Notice"),e("span",{class:"font-semibold mr-2 text-left flex-auto"},"Fill Empty fields"),e("svg",{class:"fill-current opacity-75 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"})])],-1),te=[ee],oe={class:"p-10 container shadow border mt-10 mx-auto"},se=e("div",{class:"flex flex-col text-center w-full"},[e("h1",{class:"sm:text-3xl text-2xl font-medium title-font mb-4 text-gray-900"}," Add School Year ")],-1),le={class:"flex flex-col p-10 text-center w-full mb-12"},ne={class:"p-2 w-full"},ae={class:"relative"},re=e("label",{for:"name",class:"leading-7 text-sm text-gray-600"},"From",-1),de={class:"p-2 w-full"},ie={class:"relative"},ce=e("label",{for:"name",class:"leading-7 text-sm text-gray-600"},"To",-1),ue={class:"p-2 flex justify-end w-full"},pe={class:"lg:w-full md:w-2/3 mx-auto"},ge={class:"mb-10 flex justify-end","aria-label":"Page navigation example"},fe=e("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only"},"Search",-1),me={class:"relative"},_e=e("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),he={class:"overflow-x-auto relative shadow-md sm:rounded-lg"},xe={class:"w-full text-sm text-left text-gray-500"},ye=e("thead",{class:"text-xs text-white uppercase bg-green-500"},[e("tr",null,[e("th",{scope:"col",class:"py-3 px-6"},"ID"),e("th",{scope:"col",class:"py-3 px-6"}," School year from "),e("th",{scope:"col",class:"py-3 px-6"}," School year to "),e("th",{scope:"col",class:"py-3 px-6"}," Created at "),e("th",{scope:"col",class:"py-3 px-6"}," Updated at "),e("th",{scope:"col",class:"py-3 px-6"},[e("span",{class:"sr-only"},"Actions")])])],-1),ve={class:"py-4 px-6"},be={class:"pl-3"},we={class:"text-base font-semibold"},ke={scope:"row",class:"py-4 px-6 font-medium text-gray-900"},Se={class:"pl-3"},Ce={class:"font-normal text-gray-500"},Le={class:"py-4 px-6"},Me={class:"pl-3"},ze={class:"text-base font-semibold"},Be={class:"py-4 px-6"},Ye={class:"pl-3"},$e={class:"text-base font-semibold"},je={class:"py-4 px-6"},Ue={class:"pl-3"},De={class:"text-base font-semibold"},Ae={class:"py-4 px-6 text-center"},Ve={class:"pl-3"},Fe={class:"text-base flex justify-center font-semibold"},Ne=["onClick"],Ee=e("span",{class:"mx-1"}," Edit ",-1),Oe=[Ee],Te=["onClick"],Ie=e("span",{class:"mx-1"}," Delete ",-1),Pe=[Ie],qe={class:"px-4 w-100 py-3 flex items-center justify-center border-gray-200 sm:px-6"},Ke={key:0,class:""},Ge={id:"popup-modal",tabindex:"-1",class:"overflow-y-auto flex fixed justify-center w-full backdrop-blur-sm overflow-x-hidden fixed top-0 right-0 left-0 z-50 md:inset-0 h-modal md:h-full"},He={class:"relative p-4 w-full animate mt-10 max-w-md h-full md:h-auto"},Je={class:"relative bg-white rounded-lg shadow"},Qe={class:"p-2 w-full"},Re={class:"relative"},We=e("label",{for:"name",class:"leading-7 text-sm text-gray-600"},"From",-1),Xe={class:"p-2 w-full"},Ze={class:"relative"},et=e("label",{for:"name",class:"leading-7 text-sm text-gray-600"},"To",-1),tt=e("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),ot=e("span",{class:"sr-only"},"Close modal",-1),st=[tt,ot],lt={class:"p-6 text-center"},nt=e("svg",{"aria-hidden":"true",class:"mx-auto mb-4 w-14 h-14 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),at=e("h3",{class:"mb-5 text-lg font-normal text-gray-500"}," Are you sure you want to update this yearbook? ",-1),rt={key:1},dt={id:"popup-modal",tabindex:"-1",class:"overflow-y-auto flex justify-center backdrop-blur-sm overflow-x-hidden fixed top-0 right-0 left-0 z-50 md:inset-0 h-modal md:h-full"},it={class:"relative p-4 animate w-full max-w-md h-full mt-[20vmin] transition ease-in-out md:h-auto"},ct={class:"relative bg-white rounded-lg shadow"},ut=e("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),pt=e("span",{class:"sr-only"},"Close modal",-1),gt=[ut,pt],ft={class:"p-6 text-center"},mt=e("svg",{"aria-hidden":"true",class:"mx-auto mb-4 w-14 h-14 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),_t=e("h3",{class:"mb-5 text-lg font-normal text-gray-500"}," Are you sure you want to delete this yearbook? ",-1),wt={__name:"Yearbook",setup(ht){const u=i(!1),p=i(!1),v=i(!1),b=i(!1),w=i(!1),k=i(!1),_=s=>{s=="Success"?v.value=!0:s=="Update"?b.value=!0:s=="Delete"?w.value=!0:k.value=!0,setTimeout(()=>{s=="Success"?v.value=!1:s=="Update"?b.value=!1:s=="Delete"?w.value=!1:k.value=!1},4e3)},h=s=>{if(s)return B(s).format("YYYY")},z=s=>{if(s)return B(s).format("YYYY Do MMMM")},x=y({search:M().props.value.search?M().props.value.search:""}),l=y({schoolyear_from:"",schoolyear_to:""}),Y=()=>{l.schoolyear_from==""||l.schoolyear_to==""?_("others"):(l.schoolyear_from=h(l.schoolyear_from),l.schoolyear_to=h(l.schoolyear_to),l.post(route("yearbooks.store"),{preserveScroll:!0,onSuccess:()=>{l.reset(),_("Success")}}))},a=y({id:"",from_date_update:"",to_date_update:""}),S=y({id:""}),$=()=>{x.get(route("administrator.yearbook"),{preserveScroll:!0,onSuccess:()=>{}})},C=s=>{S.id=s,p.value=!p.value},j=()=>{S.delete(route("yearbooks.delete",[S.id]),{preserveScroll:!0,onSuccess:()=>{_("Delete"),p.value=!p.value}})},L=(s,o,t)=>{a.id=s,a.from_date_update=o+"-01",a.to_date_update=t+"-01",u.value=!u.value},U=()=>{a.put(route("yearbooks.update",[a.id]),{preserveScroll:!0,onSuccess:()=>{_("Update"),a.reset(),u.value=!u.value}})};return(s,o)=>(r(),V(T,null,{default:F(()=>[e("section",P,[v.value?(r(),d("div",q,G)):c("",!0),b.value?(r(),d("div",H,Q)):c("",!0),w.value?(r(),d("div",R,X)):c("",!0),k.value?(r(),d("div",Z,te)):c("",!0),e("div",oe,[se,e("div",le,[e("div",ne,[e("div",ae,[re,g(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>n(l).schoolyear_from=t),type:"month",id:"name",name:"name",class:"w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[f,n(l).schoolyear_from]])])]),e("div",de,[e("div",ie,[ce,g(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>n(l).schoolyear_to=t),type:"month",id:"name",name:"name",class:"w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[f,n(l).schoolyear_to]])])]),e("div",ue,[e("button",{onClick:o[2]||(o[2]=t=>Y()),class:"flex text-white bg-green-500 border-0 py-2 px-8 focus:outline-none hover:bg-green-600 rounded text-lg"}," Add ")])]),e("div",pe,[e("nav",ge,[fe,e("div",me,[_e,g(e("input",{"onUpdate:modelValue":o[3]||(o[3]=t=>n(x).search=t),type:"search",id:"default-search",class:"block p-4 pl-10 w-[80vmin] lg:w-[50vmin] text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-green-500 focus:border-green-500",placeholder:"Search ",required:""},null,512),[[f,n(x).search]]),e("button",{onClick:o[4]||(o[4]=t=>$()),type:"submit",class:"text-white absolute right-2.5 bottom-2.5 bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-4 py-2"}," Search ")])]),e("div",he,[e("table",xe,[ye,e("tbody",null,[(r(!0),d(E,null,N(n(M)().props.value.yearbooks.data,(t,D)=>(r(),d("tr",{key:D,class:"border-b"},[e("td",ve,[e("div",be,[e("div",we,m(t.id),1)])]),e("th",ke,[e("div",Se,[e("div",Ce,m(h(t.schoolyear_from)),1)])]),e("td",Le,[e("div",Me,[e("div",ze,m(h(t.schoolyear_to)),1)])]),e("td",Be,[e("div",Ye,[e("div",$e,m(z(t.created_at)),1)])]),e("td",je,[e("div",Ue,[e("div",De,m(z(t.updated_at)),1)])]),e("td",Ae,[e("div",Ve,[e("div",Fe,[e("button",{onClick:A=>L(t.id,t.schoolyear_from,t.schoolyear_to),class:"flex items-center justify-center w-full px-2 py-1 text-white transition-colors duration-300 transform bg-blue-600 rounded-md focus:outline-none sm:w-auto sm:mx-1 hover:bg-blue-500 focus:bg-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-40"},Oe,8,Ne),e("button",{onClick:A=>C(t.id),class:"flex items-center justify-center w-full px-2 py-1 text-white transition-colors duration-300 transform bg-red-600 rounded-md focus:outline-none sm:w-auto sm:mx-1 hover:bg-red-500 focus:bg-red-500 focus:ring focus:ring-red-300 focus:ring-opacity-40"},Pe,8,Te)])])])]))),128))])]),e("div",qe,[O(I,{links:s.$page.props.yearbooks.links,search:n(x).search},null,8,["links","search"])])])]),u.value?(r(),d("div",Ke,[e("div",Ge,[e("div",He,[e("div",Je,[e("div",Qe,[e("div",Re,[We,g(e("input",{"onUpdate:modelValue":o[5]||(o[5]=t=>n(a).from_date_update=t),type:"month",id:"name",name:"name",class:"w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[f,n(a).from_date_update]])])]),e("div",Xe,[e("div",Ze,[et,g(e("input",{"onUpdate:modelValue":o[6]||(o[6]=t=>n(a).to_date_update=t),type:"month",id:"name",name:"name",class:"w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-white focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out"},null,512),[[f,n(a).to_date_update]])])]),e("button",{onClick:o[7]||(o[7]=t=>L()),type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-toggle":"popup-modal"},st),e("div",lt,[nt,at,e("button",{onClick:o[8]||(o[8]=t=>U()),"data-modal-toggle":"popup-modal",type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2"}," Yes, I'm sure "),e("button",{onClick:o[9]||(o[9]=t=>L()),"data-modal-toggle":"popup-modal",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"}," No, cancel ")])])])])])):c("",!0),p.value?(r(),d("div",rt,[e("div",dt,[e("div",it,[e("div",ct,[e("button",{onClick:o[10]||(o[10]=t=>C()),type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-toggle":"popup-modal"},gt),e("div",ft,[mt,_t,e("button",{onClick:o[11]||(o[11]=t=>j()),"data-modal-toggle":"popup-modal",type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2"}," Yes, I'm sure "),e("button",{onClick:o[12]||(o[12]=t=>C()),"data-modal-toggle":"popup-modal",type:"button",class:"text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10"}," No, cancel ")])])])])])):c("",!0)])])]),_:1}))}};export{wt as default};
