import{_ as m}from"./AppLayout.6ac057e3.js";import{c as h,w,o as d,a as s,e as f,i as x,t as o,h as v,k as y,F as b}from"./app.3fc7250d.js";import{h as k}from"./moment.9709ab41.js";const S=s("h2",{class:"flex flex-row flex-nowrap items-center my-8"},[s("span",{class:"flex-grow block border-t border-green-700","aria-hidden":"true",role:"presentation"}),s("span",{class:"flex-none block mx-4 px-4 py-2.5 text-xs leading-none font-medium uppercase bg-green-700 rounded-lg text-white"}," Your Surveys "),s("span",{class:"flex-grow block border-t border-green-700","aria-hidden":"true",role:"presentation"})],-1),B={class:"w-full px-2 lg:px-10 grid grid-cols-1 gap-10 lg:grid-cols-4"},Y={class:"flex items-center justify-between"},C={class:"text-sm font-bold text-gray-800"},E=s("span",{class:"px-3 py-1 text-xs text-white uppercase bg-green-800 rounded-full"},"Survey",-1),M={class:"mt-2 text-lg font-semibold text-gray-800"},F={class:"grid grid-cols-2 mb-5"},P={class:"mt-2 text-md text-gray-600"},A={class:"mt-2 text-md text-gray-600"},D={class:"mt-2 text-md text-gray-600"},I={class:"mt-2 text-md text-gray-600"},N=s("a",{class:"inline-block mr-4",href:"#"},[s("img",{class:"max-w-none w-full rounded-lg",src:""})],-1),U=["href"],V={__name:"Surveys",setup(j){const c=a=>{if(a)return k(a).format("MMMM Do YYYY, h:mm:ss a")},p=a=>{let e=a.record,r=a.survey;if(e!=null){var n=0;return r.questions.forEach(i=>{i.setup.dropdown==!0||i.setup.multiple_select==!1?"question_"+i.id in e.answers&&e.answers["question_"+i.id]!=0&&n++:"question_"+i.id in e.answers&&i.setup.choices.every(t=>"choice_"+t.value in e.answers["question_"+i.id]&&e.answers["question_"+i.id]["choice_"+t.value]!=0?(n++,!1):!0)}),n/r.questions.length*100}else return 0},_=a=>{let e=a.record,r=a.survey;if(e!=null){var n=0;r.questions.forEach(t=>{t.setup.dropdown==!0||t.setup.multiple_select==!1?"question_"+t.id in e.answers&&e.answers["question_"+t.id]!=0&&n++:"question_"+t.id in e.answers&&t.setup.choices.every(l=>"choice_"+l.value in e.answers["question_"+t.id]&&e.answers["question_"+t.id]["choice_"+l.value]!=0?(n++,!1):!0)});var i=n/r.questions.length*100;return i==100?"Finished":"Incomplete"}else return"Not yet taken"},u=a=>{let e=a.record,r=a.survey;if(e!=null){var n=0;r.questions.forEach(t=>{t.setup.dropdown==!0||t.setup.multiple_select==!1?"question_"+t.id in e.answers&&e.answers["question_"+t.id]!=0&&n++:"question_"+t.id in e.answers&&t.setup.choices.every(l=>"choice_"+l.value in e.answers["question_"+t.id]&&e.answers["question_"+t.id]["choice_"+l.value]!=0?(n++,!1):!0)});var i=n/r.questions.length*100;return i==100?"Completed":"Answer"}else return"Answer"},g=()=>{};return(a,e)=>(d(),h(m,{title:"UserSurveys"},{default:w(()=>[S,s("div",B,[(d(!0),f(b,null,x(v(y)().props.value.user_surveys,(r,n)=>(d(),f("div",{v:"",key:n,class:"w-full max-w-sm px-4 py-3 border-b-4 border-green-400 bg-white rounded-md shadow-md"},[s("div",Y,[s("span",C,o(r.survey.name),1),E]),s("div",null,[s("h1",M," Items: "+o(r.survey.questions.length),1),s("div",F,[s("div",null,[s("p",P," Percentage taken: "+o(p(r))+"% ",1),s("p",A," Status: "+o(_(r)),1),s("p",D," Created at: "+o(c(r.survey.created_at)),1),s("p",I," Updated at: "+o(c(r.survey.updated_at)),1)]),N])]),s("a",{class:"px-6 float-right py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-green-800 rounded-md hover:bg-green-500 focus:outline-none focus:ring focus:ring-green-300 focus:ring-opacity-80",href:u(r)=="Completed"?g():r.details.link,target:"_blank"},o(u(r)),9,U)]))),128))])]),_:1}))}};export{V as default};
