import{d as c,u as d,k as p,c as j,w as $,o,a as e,e as n,f as l,t as a,v as V,K as F,h as _,i as U,F as Y,b as W}from"./app.3fc7250d.js";import{A as E}from"./AdminLayout.a90147e8.js";import{h as S}from"./moment.9709ab41.js";import T from"./Pagination.f354069e.js";const J={class:"text-gray-600 body-font relative"},K={key:0,class:"bg-green-100 alertanim text-center py-4 lg:px-4"},R=e("div",{class:"p-2 bg-green-800 items-center text-green-100 leading-none lg:rounded-full flex lg:inline-flex",role:"alert"},[e("span",{class:"flex rounded-full bg-green-500 uppercase px-2 py-1 text-xs font-bold mr-3"},"Notification"),e("span",{class:"font-semibold mr-2 text-left flex-auto"},"User Successfully Promoted to Admin!"),e("svg",{class:"fill-current opacity-75 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"})])],-1),q=[R],G={key:1,class:"bg-green-100 alertanim text-center py-4 lg:px-4"},H=e("div",{class:"p-2 bg-green-800 items-center text-green-100 leading-none lg:rounded-full flex lg:inline-flex",role:"alert"},[e("span",{class:"flex rounded-full bg-green-500 uppercase px-2 py-1 text-xs font-bold mr-3"},"Notification"),e("span",{class:"font-semibold mr-2 text-left flex-auto"},"User Successfully Promoted to Staff!"),e("svg",{class:"fill-current opacity-75 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"})])],-1),I=[H],O={key:2,class:"bg-gray-100 alertanim text-center py-4 lg:px-4"},Q=e("div",{class:"p-2 bg-gray-800 items-center text-gray-100 leading-none lg:rounded-full flex lg:inline-flex",role:"alert"},[e("span",{class:"flex rounded-full bg-gray-500 uppercase px-2 py-1 text-xs font-bold mr-3"},"Notification"),e("span",{class:"font-semibold mr-2 text-left flex-auto"},"Admin has been demoted!"),e("svg",{class:"fill-current opacity-75 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"})])],-1),X=[Q],Z={key:3,class:"bg-gray-100 text-center py-4 lg:px-4"},ee=e("div",{class:"p-2 bg-gray-800 items-center text-gray-100 alertanim leading-none lg:rounded-full flex lg:inline-flex",role:"alert"},[e("span",{class:"flex rounded-full bg-gray-500 uppercase px-2 py-1 text-xs font-bold mr-3"},"Notice"),e("span",{class:"font-semibold mr-2 text-left flex-auto"},"Staff has been demoted!"),e("svg",{class:"fill-current opacity-75 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"})])],-1),te=[ee],se={key:4,class:"bg-gray-100 text-center py-4 lg:px-4"},oe={class:"p-2 bg-gray-800 items-center text-gray-100 alertanim leading-none lg:rounded-full flex lg:inline-flex",role:"alert"},ne=e("span",{class:"flex rounded-full bg-gray-500 uppercase px-2 py-1 text-xs font-bold mr-3"},"Warning",-1),le={class:"font-semibold mr-2 text-left flex-auto"},ae=e("svg",{class:"fill-current opacity-75 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z"})],-1),re={class:"container p-10 mt-10 shadow border rounded-lg mx-auto"},ie=e("div",{class:"flex flex-col text-center w-full"},[e("h1",{class:"sm:text-3xl text-2xl font-medium title-font mb-4 text-gray-900"}," User Management ")],-1),ce={class:"lg:w-full md:w-2/3 mx-auto"},de={class:"mb-10 flex justify-end","aria-label":"Page navigation example"},pe=e("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-gray-300"},"Search",-1),ue={class:"relative"},_e=e("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},[e("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),me={class:"overflow-x-auto relative shadow-md sm:rounded-lg"},fe={class:"w-full text-sm text-left text-gray-500"},ge=e("thead",{class:"text-xs bg-green-500 text-white uppercase bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3 px-6"}," Fullname & Email "),e("th",{scope:"col",class:"py-3 px-6"}," College & course "),e("th",{scope:"col",class:"py-3 px-6"}," address "),e("th",{scope:"col",class:"py-3 px-6"}," Civil Status "),e("th",{scope:"col",class:"py-3 px-6"}," Sex "),e("th",{scope:"col",class:"py-3 px-6"}," Current Work "),e("th",{scope:"col",class:"py-3 px-6"}," Phone number "),e("th",{scope:"col",class:"py-3 px-6"}," Religion "),e("th",{scope:"col",class:"py-3 px-6"}," Year graduated "),e("th",{scope:"col",class:"py-3 px-6"}," Status "),e("th",{scope:"col",class:"py-3 px-6"}," Applied at "),e("th",{scope:"col",class:"py-3 px-6"},[e("span",{class:"sr-only"},"Actions")])])],-1),xe={scope:"row",class:"py-4 px-6 font-medium text-gray-900"},he={class:"pl-3"},ve=["src"],ye={class:"text-base font-semibold"},be={class:"font-normal text-gray-500"},we={class:"py-4 px-6"},ke={class:"pl-3"},Se=e("div",{class:"text-base font-semibold"},null,-1),Me={key:0,class:"font-normal text-gray-500"},Ae={key:1,class:"font-normal text-gray-500"},Ce={class:"py-4 px-6"},Le={class:"py-4 px-6"},Pe={class:"pl-3"},Be={class:"text-base font-semibold"},De={key:0},Ne={key:1},ze={key:2},je={key:3},$e={key:4},Ve={class:"py-4 px-6"},Fe={class:"pl-3"},Ue={class:"text-base font-semibold"},Ye={key:0},We={key:1},Ee={key:2,class:"text-xs"},Te={class:"py-4 px-6"},Je={class:"py-4 px-6"},Ke={class:"py-4 px-6"},Re={class:"py-4 px-6"},qe={class:"py-4 px-6"},Ge={key:0,class:"bg-green-100 text-green-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded"},He={key:1,class:"bg-green-100 text-green-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded"},Ie={key:2,class:"bg-green-100 text-green-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded"},Oe={class:"py-4 px-6 w-full"},Qe={class:"pl-3"},Xe={class:"text-base font-semibold"},Ze={class:"font-normal text-gray-500"},et={class:"py-4 px-6 text-center"},tt={class:"pl-3"},st={class:"text-base font-semibold"},ot=["onClick"],nt=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})],-1),lt=[nt],at=["onClick"],rt=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})],-1),it=[rt],ct={class:"text-base font-semibold"},dt=["onClick"],pt=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})],-1),ut=[pt],_t=["onClick"],mt=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})],-1),ft=[mt],gt={class:"px-4 w-100 py-3 flex items-center justify-center border-gray-200 sm:px-6"},wt={__name:"UserManagement",setup(xt){const m=c(!1),f=c(!1),g=c(!1),x=c(!1),k=c(!1),M=c(""),i=(s,r)=>{s=="adminPromote"?m.value=!0:s=="staffPromote"?f.value=!0:s=="adminDemote"?g.value=!0:s=="staffDemote"?x.value=!0:k.value=!0,setTimeout(()=>{s=="adminPromote"?m.value=!1:s=="staffPromote"?f.value=!1:s=="adminDemote"?g.value=!1:s=="staffDemote"?x.value=!1:k.value=!1},4e3)},A=s=>{if(s)return S(s).format("MMMM Do YYYY")},C=s=>{if(s)return S(s).fromNow()},h=d({id:""}),v=d({id:""}),y=d({id:""}),b=d({id:""}),u=d({search:p().props.value.search?p().props.value.search:""}),L=(s,r)=>{s==p().props.value.user.id||p().props.value.user.user_type=="staff_admin"&&r=="admin"?i("staffAccess"):(h.id=s,h.put(route("deactivate_user",[h.id]),{preserveScroll:!0,onSuccess:()=>{i("staffDemote")}}))},P=s=>{b.id=s,b.put(route("activate_user",[b.id]),{preserveScroll:!0,onSuccess:()=>{i("staffPromote")}})},B=s=>{v.id=s,v.put(route("assign_as_admin",[v.id]),{preserveScroll:!0,onSuccess:()=>{i("adminPromote")}})},D=s=>{y.id=s,y.put(route("remove_as_admin",[y.id]),{preserveScroll:!0,onSuccess:()=>{i("adminDemote")}})},N=()=>{u.get(route("administrator.user_management"),{preserveScroll:!0,onSuccess:()=>{}})};return(s,r)=>(o(),j(E,null,{default:$(()=>[e("section",J,[m.value?(o(),n("div",K,q)):l("",!0),f.value?(o(),n("div",G,I)):l("",!0),g.value?(o(),n("div",O,X)):l("",!0),x.value?(o(),n("div",Z,te)):l("",!0),s.adminAccess?(o(),n("div",se,[e("div",oe,[ne,e("span",le,a(M.value),1),ae])])):l("",!0),e("div",re,[ie,e("div",ce,[e("nav",de,[pe,e("div",ue,[_e,V(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>_(u).search=t),type:"search",id:"default-search",class:"block p-4 pl-10 w-[80vmin] lg:w-[50vmin] text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-green-500 focus:border-green-500",placeholder:"Search"},null,512),[[F,_(u).search]]),e("button",{onClick:r[1]||(r[1]=t=>N()),type:"submit",class:"text-white absolute right-2.5 bottom-2.5 bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-4 py-2"}," Search ")])]),e("div",me,[e("table",fe,[ge,e("tbody",null,[(o(!0),n(Y,null,U(_(p)().props.value.users.data,(t,z)=>(o(),n("tr",{key:z,class:"bg-white border-b"},[e("th",xe,[e("div",he,[e("img",{class:"w-10 h-10 rounded-full",src:t.profile_photo_url,alt:"Jese image"},null,8,ve),e("div",ye,a(t.name),1),e("div",be,a(t.email),1)])]),e("td",we,[e("div",ke,[Se,t.course?(o(),n("div",Me,a(t.course.abbreviation),1)):t.course?l("",!0):(o(),n("div",Ae," No Course "))])]),e("td",Ce,a(t.details.address),1),e("td",Le,[e("div",Pe,[e("div",Be,[t.details.civil_status==1?(o(),n("span",De,"Single")):t.details.civil_status==2?(o(),n("span",Ne,"Married")):t.details.civil_status==3?(o(),n("span",ze,"Annulled")):t.details.civil_status==4?(o(),n("span",je,"Widdow/Widdower")):t.details.civil_status==5?(o(),n("span",$e,"Single Parent")):l("",!0)])])]),e("td",Ve,[e("div",Fe,[e("div",Ue,[t.details.gender==1?(o(),n("span",Ye,"Male")):t.details.gender==2?(o(),n("span",We,"Female")):t.details.gender==3?(o(),n("span",Ee,"Prefer not to say")):l("",!0)])])]),e("td",Te,a(t.details.current_work),1),e("td",Je,a(t.details.phone_number),1),e("td",Ke,a(t.details.religion),1),e("td",Re,a(t.details.year_graduated),1),e("td",qe,[t.user_type=="alumni"?(o(),n("span",Ge,"Alumni")):t.user_type=="staff_admin"?(o(),n("span",He,"Staff Administrator")):t.user_type=="admin"?(o(),n("span",Ie,"Super Administrator")):l("",!0)]),e("td",Oe,[e("div",Qe,[e("div",Xe,a(A(t.created_at)),1),e("div",Ze,a(C(t.created_at)),1)])]),e("td",et,[e("div",tt,[e("div",st,[t.user_type=="staff_admin"?(o(),n("button",{key:0,type:"button",onClick:w=>D(t.id),class:"text-white bg-red-700 mb-1 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mr-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"},lt,8,ot)):t.user_type=="alumni"?(o(),n("button",{key:1,type:"button",onClick:w=>B(t.id),class:"text-white bg-blue-700 mb-1 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mr-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},it,8,at)):l("",!0)]),e("div",ct,[t.is_active==1&&t.user_type!="admin"?(o(),n("button",{key:0,type:"button",onClick:w=>L(t.id,t.user_type),class:"text-white bg-red-700 mb-1 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mr-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"},ut,8,dt)):t.is_active==0?(o(),n("button",{key:1,type:"button",onClick:w=>P(t.id),class:"text-white bg-blue-700 mb-1 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mr-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},ft,8,_t)):l("",!0)])])])]))),128))])]),e("div",gt,[W(T,{links:s.$page.props.users.links,search:_(u).search},null,8,["links","search"])])])])])])]),_:1}))}};export{wt as default};
